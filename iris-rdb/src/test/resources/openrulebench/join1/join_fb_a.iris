a(?X, ?Y)  :- b1(?X, ?Z), b2(?Z, ?Y).
b1(?X, ?Y) :- c1(?X, ?Z), c2(?Z, ?Y).
b2(?X, ?Y) :- c3(?X, ?Z), c4(?Z, ?Y).
c1(?X, ?Y) :- d1(?X, ?Z), d2(?Z, ?Y).

?- a(?X, 1).
